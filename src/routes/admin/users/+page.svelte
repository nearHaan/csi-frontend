<script lang="ts">
	import type { UserDataRow } from '$lib/types';
	import { Search } from '@lucide/svelte';

    let dm_choices = ['Delete'];
	let users: UserDataRow[] = [
		{
			status: false,
			id: 123,
			name: 'User1',
			email: 'randomuser@example.com',
			phone_number: '8080808080',
			department: 'Computer Science',
			batch: 'B',
			year: 2025
		},
		{
			status: false,
			id: 124,
			name: 'User2',
			email: 'randomuser@example.com',
			phone_number: '8080808080',
			department: 'Computer Science',
			batch: 'B',
			year: 2025
		},
		{
			status: false,
			id: 125,
			name: 'User3',
			email: 'randomuser@example.com',
			phone_number: '8080808080',
			department: 'Computer Science',
			batch: 'B',
			year: 2025
		}
	];
</script>

<div
	class="flex min-h-screen w-full max-w-6xl flex-col items-center border-x-1 border-black bg-[#222222] p-4 text-white"
>
	<h1 class="m-4 w-full text-left text-lg">Manage Users</h1>
	<!-- Search bar -->
	<div class="flex min-h-10 w-full items-center gap-2">
		<input placeholder="Search user" class="h-full w-full rounded bg-[#353535] px-2 py-1" />
		<button class="flex h-full items-center gap-2 rounded bg-[#505050] px-2 cursor-pointer">
			<p class="text-sm max-sm:hidden">Search</p>
			<Search size="20" />
		</button>
	</div>

    <!-- Actions pane -->
     <div class="mt-4 w-full h-8 flex items-center justify-start">
        <p class="text-sm">Actions:</p>
        <select class="ml-2 h-full bg-[#353535] rounded min-w-30">
            {#each dm_choices as choice}
                <option value={choice}>{choice}</option>
            {/each}
        </select>
        <button class="ml-2 px-2 h-full rounded bg-[#505050]">Go</button>
     </div>

	<!-- Main body -->
	<div class="mt-4 w-full overflow-auto border-1 border-black text-[#eeeeee]">
		<table class="table-fixed">
			<thead class="bg-black">
				<tr>
					<th class="min-w-10 border"><input type="checkbox" /></th>
					<th class="test-sm min-w-20 border p-2">UserID</th>
					<th class="test-sm min-w-50 border p-2 text-left">Name</th>
					<th class="test-sm min-w-80 border p-2 text-left">Email</th>
					<th class="test-sm min-w-40 border p-2 text-left">Phone number</th>
					<th class="test-sm min-w-50 border p-2 text-left">Deapartment</th>
					<th class="test-sm min-w-30 border p-2">Batch</th>
					<th class="test-sm min-w-30 border p-2">Year</th>
				</tr>
			</thead>
			<tbody>
				{#each users as user (user.id)}
					<tr class="odd:bg-[#353535]">
						<th class="min-w-10 border"><input type="checkbox" checked={user.status}/></th>
						<th class="test-sm border p-2">{user.id}</th>
						<th class="test-sm border p-2 text-left">{user.name}</th>
						<th class="test-sm border p-2 text-left">{user.email}</th>
						<th class="test-sm border p-2 text-left">{user.phone_number}</th>
						<th class="test-sm border p-2 text-left">{user.department}</th>
						<th class="test-sm border p-2">{user.batch}</th>
						<th class="test-sm border p-2">{user.year}</th>
					</tr>
				{/each}
			</tbody>
		</table>
	</div>
</div>
